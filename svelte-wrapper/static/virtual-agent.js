var VirtualAgent=(function(){"use strict";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add("5");const Ve=1,Ue=2,w=Symbol(),We="http://www.w3.org/1999/xhtml",Bt=!1;var zt=Array.isArray,qe=Array.prototype.indexOf,Be=Array.from,Ct=Object.defineProperty,ut=Object.getOwnPropertyDescriptor,ze=Object.getOwnPropertyDescriptors,Ye=Object.prototype,He=Array.prototype,Yt=Object.getPrototypeOf,Ht=Object.isExtensible;function Ke(t){for(var e=0;e<t.length;e++)t[e]()}function Kt(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const m=2,Gt=4,Ot=8,G=16,V=32,Z=64,Rt=128,C=256,pt=512,b=1024,T=2048,U=4096,W=8192,tt=16384,Zt=32768,gt=65536,Jt=1<<17,Ge=1<<18,et=1<<19,Ze=1<<20,Mt=1<<21,Ft=1<<22,J=1<<23,Pt=Symbol("$state"),nt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Je(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Qe(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Xe(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function $e(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function tn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function en(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function nn(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Qt(t){return t===this.v}let rn=!1,O=null;function rt(t){O=t}function sn(t,e=!1,n){O={p:O,c:null,e:null,s:t,x:null,l:null}}function ln(t){var e=O,n=e.e;if(n!==null){e.e=null;for(var r of n)An(r)}return O=e.p,{}}function Xt(){return!0}let it=[];function fn(){var t=it;it=[],Ke(t)}function wt(t){if(it.length===0){var e=it;queueMicrotask(()=>{e===it&&fn()})}it.push(t)}const an=new WeakMap;function $t(t){var e=p;if(e===null)return v.f|=J,t;if((e.f&Zt)===0){if((e.f&Rt)===0)throw!e.parent&&t instanceof Error&&te(t),t;e.b.error(t)}else st(t,e)}function st(t,e){for(;e!==null;){if((e.f&Rt)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&te(t),t}function te(t){const e=an.get(t);e&&(Ct(t,"message",{value:e.message}),Ct(t,"stack",{value:e.stack}))}const mt=new Set;let g=null,R=null,Dt=new Set,q=[],It=null,jt=!1;class F{current=new Map;#e=new Map;#t=new Set;#n=0;#i=null;#f=[];#l=[];#s=[];#r=[];#a=[];skipped_effects=new Set;process(e){q=[],this.apply();for(const s of e)this.#o(s);if(this.#n===0){var n=R;this.#c();var r=this.#f,i=this.#l;this.#f=[],this.#l=[],this.#s=[],g=null,R=n,ee(r),ee(i),this.#i?.resolve()}else this.#u(this.#f),this.#u(this.#l),this.#u(this.#s);R=null}#o(e){e.f^=b;for(var n=e.first;n!==null;){var r=n.f,i=(r&(V|Z))!==0,s=i&&(r&b)!==0,l=s||(r&W)!==0||this.skipped_effects.has(n);if(!l&&n.fn!==null){i?n.f^=b:(r&Gt)!==0?this.#l.push(n):kt(n)&&((n.f&G)!==0&&this.#s.push(n),At(n));var a=n.first;if(a!==null){n=a;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)n=f.next,f=f.parent}}#u(e){for(const n of e)((n.f&T)!==0?this.#r:this.#a).push(n),E(n,b);e.length=0}capture(e,n){this.#e.has(e)||this.#e.set(e,n),this.current.set(e,e.v),R?.set(e,e.v)}activate(){g=this}deactivate(){g=null,R=null}flush(){if(q.length>0){if(this.activate(),on(),g!==null&&g!==this)return}else this.#n===0&&this.#c();this.deactivate();for(const e of Dt)if(Dt.delete(e),e(),g!==null)break}#c(){for(const e of this.#t)e();if(this.#t.clear(),mt.size>1){this.#e.clear();let e=!0;for(const n of mt){if(n===this){e=!1;continue}const r=[];for(const[s,l]of this.current){if(n.current.has(s))if(e&&l!==n.current.get(s))n.current.set(s,l);else continue;r.push(s)}if(r.length===0)continue;const i=[...n.current.keys()].filter(s=>!this.current.has(s));if(i.length>0){for(const s of r)ne(s,i);if(q.length>0){g=n,n.apply();for(const s of q)n.#o(s);q=[],n.deactivate()}}}g=null}mt.delete(this)}increment(){this.#n+=1}decrement(){this.#n-=1;for(const e of this.#r)E(e,T),X(e);for(const e of this.#a)E(e,U),X(e);this.flush()}add_callback(e){this.#t.add(e)}settled(){return(this.#i??=Kt()).promise}static ensure(){if(g===null){const e=g=new F;mt.add(g),F.enqueue(()=>{g===e&&e.flush()})}return g}static enqueue(e){wt(e)}apply(){}}function on(){var t=ft;jt=!0;try{var e=0;for(be(!0);q.length>0;){var n=F.ensure();if(e++>1e3){var r,i;un()}n.process(q),B.clear()}}finally{jt=!1,be(t),It=null}}function un(){try{Qe()}catch(t){st(t,It)}}let Q=null;function ee(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(tt|W))===0&&kt(r)&&(Q=[],At(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?pe(r):r.fn=null),Q?.length>0)){B.clear();for(const i of Q)At(i);Q=[]}}Q=null}}function ne(t,e){if(t.reactions!==null)for(const n of t.reactions){const r=n.f;(r&m)!==0?ne(n,e):(r&(Ft|G))!==0&&re(n,e)&&(E(n,T),X(n))}}function re(t,e){if(t.deps!==null){for(const n of t.deps)if(e.includes(n)||(n.f&m)!==0&&re(n,e))return!0}return!1}function X(t){for(var e=It=t;e.parent!==null;){e=e.parent;var n=e.f;if(jt&&e===p&&(n&G)!==0)return;if((n&(Z|V))!==0){if((n&b)===0)return;e.f^=b}}q.push(e)}function cn(t){let e=0,n=bt(0),r;return()=>{kn()&&(L(n),Cn(()=>(e===0&&(r=jn(()=>t(()=>ct(n)))),e+=1,()=>{wt(()=>{e-=1,e===0&&(r?.(),r=void 0,ct(n))})})))}}var hn=gt|et|Rt;function _n(t,e,n){new vn(t,e,n)}class vn{parent;#e=!1;#t;#n=null;#i;#f;#l;#s=null;#r=null;#a=null;#o=null;#u=0;#c=0;#_=!1;#h=null;#g=()=>{this.#h&&yt(this.#h,this.#u)};#w=cn(()=>(this.#h=bt(this.#u),()=>{this.#h=null}));constructor(e,n,r){this.#t=e,this.#i=n,this.#f=r,this.parent=p.b,this.#e=!!this.#i.pending,this.#l=_e(()=>{p.b=this;{try{this.#s=I(()=>r(this.#t))}catch(i){this.error(i)}this.#c>0?this.#d():this.#e=!1}},hn)}#m(){try{this.#s=I(()=>this.#f(this.#t))}catch(e){this.error(e)}this.#e=!1}#b(){const e=this.#i.pending;e&&(this.#r=I(()=>e(this.#t)),F.enqueue(()=>{this.#s=this.#v(()=>(F.ensure(),I(()=>this.#f(this.#t)))),this.#c>0?this.#d():(_t(this.#r,()=>{this.#r=null}),this.#e=!1)}))}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#i.pending}#v(e){var n=p,r=v,i=O;P(this.#l),k(this.#l),rt(this.#l.ctx);try{return e()}catch(s){return $t(s),null}finally{P(n),k(r),rt(i)}}#d(){const e=this.#i.pending;this.#s!==null&&(this.#o=document.createDocumentFragment(),me(this.#s,this.#o)),this.#r===null&&(this.#r=I(()=>e(this.#t)))}#p(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#p(e);return}this.#c+=e,this.#c===0&&(this.#e=!1,this.#r&&_t(this.#r,()=>{this.#r=null}),this.#o&&(this.#t.before(this.#o),this.#o=null),wt(()=>{F.ensure().flush()}))}update_pending_count(e){this.#p(e),this.#u+=e,Dt.add(this.#g)}get_effect_pending(){return this.#w(),L(this.#h)}error(e){var n=this.#i.onerror;let r=this.#i.failed;if(this.#_||!n&&!r)throw e;this.#s&&(S(this.#s),this.#s=null),this.#r&&(S(this.#r),this.#r=null),this.#a&&(S(this.#a),this.#a=null);var i=!1,s=!1;const l=()=>{if(i){nn();return}i=!0,s&&en(),F.ensure(),this.#u=0,this.#a!==null&&_t(this.#a,()=>{this.#a=null}),this.#e=this.has_pending_snippet(),this.#s=this.#v(()=>(this.#_=!1,I(()=>this.#f(this.#t)))),this.#c>0?this.#d():this.#e=!1};var a=v;try{k(null),s=!0,n?.(e,l),s=!1}catch(f){st(f,this.#l&&this.#l.parent)}finally{k(a)}r&&wt(()=>{this.#a=this.#v(()=>{this.#_=!0;try{return I(()=>{r(this.#t,()=>e,()=>l)})}catch(f){return st(f,this.#l.parent),null}finally{this.#_=!1}})})}}function dn(t,e,n){const r=gn;if(e.length===0){n(t.map(r));return}var i=g,s=p,l=pn();Promise.all(e.map(a=>wn(a))).then(a=>{l();try{n([...t.map(r),...a])}catch(f){(s.f&tt)===0&&st(f,s)}i?.deactivate(),Lt()}).catch(a=>{st(a,s)})}function pn(){var t=p,e=v,n=O,r=g;return function(){P(t),k(e),rt(n),r?.activate()}}function Lt(){P(null),k(null),rt(null)}function gn(t){var e=m|T,n=v!==null&&(v.f&m)!==0?v:null;return p===null||n!==null&&(n.f&C)!==0?e|=C:p.f|=et,{ctx:O,deps:null,effects:null,equals:Qt,f:e,fn:t,reactions:null,rv:0,v:w,wv:0,parent:n??p,ac:null}}function wn(t,e){let n=p;n===null&&Je();var r=n.b,i=void 0,s=bt(w),l=!v,a=new Map;return Nn(()=>{var f=Kt();i=f.promise;try{Promise.resolve(t()).then(f.resolve,f.reject).then(Lt)}catch(h){f.reject(h),Lt()}var o=g,u=r.is_pending();l&&(r.update_pending_count(1),u||(o.increment(),a.get(o)?.reject(nt),a.delete(o),a.set(o,f)));const _=(h,c=void 0)=>{if(u||o.activate(),c)c!==nt&&(s.f|=J,yt(s,c));else{(s.f&J)!==0&&(s.f^=J),yt(s,h);for(const[d,x]of a){if(a.delete(d),d===o)break;x.reject(nt)}}l&&(r.update_pending_count(-1),u||o.decrement())};f.promise.then(_,h=>_(null,h||"unknown"))}),Tn(()=>{for(const f of a.values())f.reject(nt)}),new Promise(f=>{function o(u){function _(){u===i?f(s):o(i)}u.then(_,_)}o(i)})}function ie(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)S(e[n])}}function mn(t){for(var e=t.parent;e!==null;){if((e.f&m)===0)return e;e=e.parent}return null}function Vt(t){var e,n=p;P(mn(t));try{ie(t),e=Ae(t)}finally{P(n)}return e}function se(t){var e=Vt(t);if(t.equals(e)||(t.v=e,t.wv=ke()),!vt)if(R!==null)R.set(t,t.v);else{var n=(H||(t.f&C)!==0)&&t.deps!==null?U:b;E(t,n)}}const B=new Map;function bt(t,e){var n={f:0,v:t,reactions:null,equals:Qt,rv:0,wv:0};return n}function D(t,e){const n=bt(t);return Pn(n),n}function z(t,e,n=!1){v!==null&&(!M||(v.f&Jt)!==0)&&Xt()&&(v.f&(m|G|Ft|Jt))!==0&&!j?.includes(t)&&tn();let r=n?ht(e):e;return yt(t,r)}function yt(t,e){if(!t.equals(e)){var n=t.v;vt?B.set(t,e):B.set(t,n),t.v=e;var r=F.ensure();r.capture(t,n),(t.f&m)!==0&&((t.f&T)!==0&&Vt(t),E(t,(t.f&C)===0?b:U)),t.wv=ke(),le(t,T),p!==null&&(p.f&b)!==0&&(p.f&(V|Z))===0&&(N===null?Dn([t]):N.push(t))}return e}function ct(t){z(t,t.v+1)}function le(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],l=s.f,a=(l&T)===0;a&&E(s,e),(l&m)!==0?le(s,U):a&&((l&G)!==0&&Q!==null&&Q.push(s),X(s))}}function ht(t){if(typeof t!="object"||t===null||Pt in t)return t;const e=Yt(t);if(e!==Ye&&e!==He)return t;var n=new Map,r=zt(t),i=D(0),s=$,l=a=>{if($===s)return a();var f=v,o=$;k(null),xe(s);var u=a();return k(f),xe(o),u};return r&&n.set("length",D(t.length)),new Proxy(t,{defineProperty(a,f,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&Xe();var u=n.get(f);return u===void 0?u=l(()=>{var _=D(o.value);return n.set(f,_),_}):z(u,o.value,!0),!0},deleteProperty(a,f){var o=n.get(f);if(o===void 0){if(f in a){const u=l(()=>D(w));n.set(f,u),ct(i)}}else z(o,w),ct(i);return!0},get(a,f,o){if(f===Pt)return t;var u=n.get(f),_=f in a;if(u===void 0&&(!_||ut(a,f)?.writable)&&(u=l(()=>{var c=ht(_?a[f]:w),d=D(c);return d}),n.set(f,u)),u!==void 0){var h=L(u);return h===w?void 0:h}return Reflect.get(a,f,o)},getOwnPropertyDescriptor(a,f){var o=Reflect.getOwnPropertyDescriptor(a,f);if(o&&"value"in o){var u=n.get(f);u&&(o.value=L(u))}else if(o===void 0){var _=n.get(f),h=_?.v;if(_!==void 0&&h!==w)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return o},has(a,f){if(f===Pt)return!0;var o=n.get(f),u=o!==void 0&&o.v!==w||Reflect.has(a,f);if(o!==void 0||p!==null&&(!u||ut(a,f)?.writable)){o===void 0&&(o=l(()=>{var h=u?ht(a[f]):w,c=D(h);return c}),n.set(f,o));var _=L(o);if(_===w)return!1}return u},set(a,f,o,u){var _=n.get(f),h=f in a;if(r&&f==="length")for(var c=o;c<_.v;c+=1){var d=n.get(c+"");d!==void 0?z(d,w):c in a&&(d=l(()=>D(w)),n.set(c+"",d))}if(_===void 0)(!h||ut(a,f)?.writable)&&(_=l(()=>D(void 0)),z(_,ht(o)),n.set(f,_));else{h=_.v!==w;var x=l(()=>ht(o));z(_,x)}var ot=Reflect.getOwnPropertyDescriptor(a,f);if(ot?.set&&ot.set.call(u,o),!h){if(r&&typeof f=="string"){var Nt=n.get("length"),K=Number(f);Number.isInteger(K)&&K>=Nt.v&&z(Nt,K+1)}ct(i)}return!0},ownKeys(a){L(i);var f=Reflect.ownKeys(a).filter(_=>{var h=n.get(_);return h===void 0||h.v!==w});for(var[o,u]of n)u.v!==w&&!(o in a)&&f.push(o);return f},setPrototypeOf(){$e()}})}var fe,ae,oe,ue;function bn(){if(fe===void 0){fe=window,ae=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;oe=ut(e,"firstChild").get,ue=ut(e,"nextSibling").get,Ht(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ht(n)&&(n.__t=void 0)}}function Ut(t=""){return document.createTextNode(t)}function Et(t){return oe.call(t)}function xt(t){return ue.call(t)}function lt(t,e){return Et(t)}function yn(t,e=!1){{var n=Et(t);return n instanceof Comment&&n.data===""?xt(n):n}}function Wt(t,e=1,n=!1){let r=t;for(;e--;)r=xt(r);return r}function En(){return!1}function ce(t){var e=v,n=p;k(null),P(null);try{return t()}finally{k(e),P(n)}}function xn(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Y(t,e,n,r=!0){var i=p;i!==null&&(i.f&W)!==0&&(t|=W);var s={ctx:O,deps:null,nodes_start:null,nodes_end:null,f:t|T,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{At(s),s.f|=Zt}catch(f){throw S(s),f}else e!==null&&X(s);if(r){var l=s;if(n&&l.deps===null&&l.teardown===null&&l.nodes_start===null&&l.first===l.last&&(l.f&et)===0&&(l=l.first),l!==null&&(l.parent=i,i!==null&&xn(l,i),v!==null&&(v.f&m)!==0&&(t&Z)===0)){var a=v;(a.effects??=[]).push(l)}}return s}function kn(){return v!==null&&!M}function Tn(t){const e=Y(Ot,null,!1);return E(e,b),e.teardown=t,e}function An(t){return Y(Gt|Ze,t,!1)}function Sn(t){F.ensure();const e=Y(Z|et,t,!0);return(n={})=>new Promise(r=>{n.outro?_t(e,()=>{S(e),r(void 0)}):(S(e),r(void 0))})}function Nn(t){return Y(Ft|et,t,!0)}function Cn(t,e=0){return Y(Ot|e,t,!0)}function he(t,e=[],n=[]){dn(e,n,r=>{Y(Ot,()=>t(...r.map(L)),!0)})}function _e(t,e=0){var n=Y(G|e,t,!0);return n}function I(t,e=!0){return Y(V|et,t,!0,e)}function ve(t){var e=t.teardown;if(e!==null){const n=vt,r=v;ye(!0),k(null);try{e.call(null)}finally{ye(n),k(r)}}}function de(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&ce(()=>{i.abort(nt)});var r=n.next;(n.f&Z)!==0?n.parent=null:S(n,e),n=r}}function On(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&V)===0&&S(e),e=n}}function S(t,e=!0){var n=!1;(e||(t.f&Ge)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Rn(t.nodes_start,t.nodes_end),n=!0),de(t,e&&!n),Tt(t,0),E(t,tt);var r=t.transitions;if(r!==null)for(const s of r)s.stop();ve(t);var i=t.parent;i!==null&&i.first!==null&&pe(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Rn(t,e){for(;t!==null;){var n=t===e?null:xt(t);t.remove(),t=n}}function pe(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function _t(t,e,n=!0){var r=[];ge(t,r,!0),Mn(r,()=>{n&&S(t),e&&e()})}function Mn(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function ge(t,e,n){if((t.f&W)===0){if(t.f^=W,t.transitions!==null)for(const l of t.transitions)(l.is_global||n)&&e.push(l);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&gt)!==0||(r.f&V)!==0;ge(r,e,s?n:!1),r=i}}}function Fn(t){we(t,!0)}function we(t,e){if((t.f&W)!==0){t.f^=W,(t.f&b)===0&&(E(t,T),X(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&gt)!==0||(n.f&V)!==0;we(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function me(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:xt(n);e.append(n),n=i}}let ft=!1;function be(t){ft=t}let vt=!1;function ye(t){vt=t}let v=null,M=!1;function k(t){v=t}let p=null;function P(t){p=t}let j=null;function Pn(t){v!==null&&(j===null?j=[t]:j.push(t))}let y=null,A=0,N=null;function Dn(t){N=t}let Ee=1,dt=0,$=dt;function xe(t){$=t}let H=!1;function ke(){return++Ee}function kt(t){var e=t.f;if((e&T)!==0)return!0;if((e&U)!==0){var n=t.deps,r=(e&C)!==0;if(n!==null){var i,s,l=(e&pt)!==0,a=r&&p!==null&&!H,f=n.length;if((l||a)&&(p===null||(p.f&tt)===0)){var o=t,u=o.parent;for(i=0;i<f;i++)s=n[i],(l||!s?.reactions?.includes(o))&&(s.reactions??=[]).push(o);l&&(o.f^=pt),a&&u!==null&&(u.f&C)===0&&(o.f^=C)}for(i=0;i<f;i++)if(s=n[i],kt(s)&&se(s),s.wv>t.wv)return!0}(!r||p!==null&&!H)&&E(t,b)}return!1}function Te(t,e,n=!0){var r=t.reactions;if(r!==null&&!j?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&m)!==0?Te(s,e,!1):e===s&&(n?E(s,T):(s.f&b)!==0&&E(s,U),X(s))}}function Ae(t){var e=y,n=A,r=N,i=v,s=H,l=j,a=O,f=M,o=$,u=t.f;y=null,A=0,N=null,H=(u&C)!==0&&(M||!ft||v===null),v=(u&(V|Z))===0?t:null,j=null,rt(t.ctx),M=!1,$=++dt,t.ac!==null&&(ce(()=>{t.ac.abort(nt)}),t.ac=null);try{t.f|=Mt;var _=t.fn,h=_(),c=t.deps;if(y!==null){var d;if(Tt(t,A),c!==null&&A>0)for(c.length=A+y.length,d=0;d<y.length;d++)c[A+d]=y[d];else t.deps=c=y;if(!H||(u&m)!==0&&t.reactions!==null)for(d=A;d<c.length;d++)(c[d].reactions??=[]).push(t)}else c!==null&&A<c.length&&(Tt(t,A),c.length=A);if(Xt()&&N!==null&&!M&&c!==null&&(t.f&(m|U|T))===0)for(d=0;d<N.length;d++)Te(N[d],t);return i!==null&&i!==t&&(dt++,N!==null&&(r===null?r=N:r.push(...N))),(t.f&J)!==0&&(t.f^=J),h}catch(x){return $t(x)}finally{t.f^=Mt,y=e,A=n,N=r,v=i,H=s,j=l,rt(a),M=f,$=o}}function In(t,e){let n=e.reactions;if(n!==null){var r=qe.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&m)!==0&&(y===null||!y.includes(e))&&(E(e,U),(e.f&(C|pt))===0&&(e.f^=pt),ie(e),Tt(e,0))}function Tt(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)In(t,n[r])}function At(t){var e=t.f;if((e&tt)===0){E(t,b);var n=p,r=ft;p=t,ft=!0;try{(e&G)!==0?On(t):de(t),ve(t);var i=Ae(t);t.teardown=typeof i=="function"?i:null,t.wv=Ee;var s;Bt&&rn&&(t.f&T)!==0&&t.deps}finally{ft=r,p=n}}}function L(t){var e=t.f,n=(e&m)!==0;if(v!==null&&!M){var r=p!==null&&(p.f&tt)!==0;if(!r&&!j?.includes(t)){var i=v.deps;if((v.f&Mt)!==0)t.rv<dt&&(t.rv=dt,y===null&&i!==null&&i[A]===t?A++:y===null?y=[t]:(!H||!y.includes(t))&&y.push(t));else{(v.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[v]:s.includes(v)||s.push(v)}}}else if(n&&t.deps===null&&t.effects===null){var l=t,a=l.parent;a!==null&&(a.f&C)===0&&(l.f^=C)}if(vt){if(B.has(t))return B.get(t);if(n){l=t;var f=l.v;return((l.f&b)===0&&l.reactions!==null||Se(l))&&(f=Vt(l)),B.set(l,f),f}}else if(n){if(l=t,R?.has(l))return R.get(l);kt(l)&&se(l)}if(R?.has(t))return R.get(t);if((t.f&J)!==0)throw t.v;return t.v}function Se(t){if(t.v===w)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(B.has(e)||(e.f&m)!==0&&Se(e))return!0;return!1}function jn(t){var e=M;try{return M=!0,t()}finally{M=e}}const Ln=-7169;function E(t,e){t.f=t.f&Ln|e}const Ne=new Set,qt=new Set;function Vn(t){for(var e=0;e<t.length;e++)Ne.add(t[e]);for(var n of qt)n(t)}let Ce=null;function St(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;Ce=t;var l=0,a=Ce===t&&t.__root;if(a){var f=i.indexOf(a);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var o=i.indexOf(e);if(o===-1)return;f<=o&&(l=f)}if(s=i[l]||t.target,s!==e){Ct(t,"currentTarget",{configurable:!0,get(){return s||n}});var u=v,_=p;k(null),P(null);try{for(var h,c=[];s!==null;){var d=s.assignedSlot||s.parentNode||s.host||null;try{var x=s["__"+r];if(x!=null&&(!s.disabled||t.target===s))if(zt(x)){var[ot,...Nt]=x;ot.apply(s,[t,...Nt])}else x.call(s,t)}catch(K){h?c.push(K):h=K}if(t.cancelBubble||d===e||d===null)break;s=d}if(h){for(let K of c)queueMicrotask(()=>{throw K});throw h}}finally{t.__root=e,delete t.currentTarget,k(u),P(_)}}}function Un(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Oe(t,e){var n=p;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Re(t,e){var n=(e&Ve)!==0,r=(e&Ue)!==0,i,s=!t.startsWith("<!>");return()=>{i===void 0&&(i=Un(s?t:"<!>"+t),n||(i=Et(i)));var l=r||ae?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Et(l),f=l.lastChild;Oe(a,f)}else Oe(l,l);return l}}function Me(t,e){t!==null&&t.before(e)}const Wn=["touchstart","touchmove"];function qn(t){return Wn.includes(t)}function Bn(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Fe(t,e){return zn(t,e)}const at=new Map;function zn(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:l=!0}){bn();var a=new Set,f=_=>{for(var h=0;h<_.length;h++){var c=_[h];if(!a.has(c)){a.add(c);var d=qn(c);e.addEventListener(c,St,{passive:d});var x=at.get(c);x===void 0?(document.addEventListener(c,St,{passive:d}),at.set(c,1)):at.set(c,x+1)}}};f(Be(Ne)),qt.add(f);var o=void 0,u=Sn(()=>{var _=n??e.appendChild(Ut());return _n(_,{pending:()=>{}},h=>{if(s){sn({});var c=O;c.c=s}i&&(r.$$events=i),o=t(h,r)||{},s&&ln()}),()=>{for(var h of a){e.removeEventListener(h,St);var c=at.get(h);--c===0?(document.removeEventListener(h,St),at.delete(h)):at.set(h,c)}qt.delete(f),_!==n&&_.parentNode?.removeChild(_)}});return Yn.set(o,u),o}let Yn=new WeakMap;class Hn{anchor;#e=new Map;#t=new Map;#n=new Map;#i=!0;constructor(e,n=!0){this.anchor=e,this.#i=n}#f=()=>{var e=g;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#t.get(n);if(r)Fn(r);else{var i=this.#n.get(n);i&&(this.#t.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,l]of this.#e){if(this.#e.delete(s),s===e)break;const a=this.#n.get(l);a&&(S(a.effect),this.#n.delete(l))}for(const[s,l]of this.#t){if(s===n)continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var o=document.createDocumentFragment();me(l,o),o.append(Ut()),this.#n.set(s,{effect:l,fragment:o})}else S(l);this.#t.delete(s)};this.#i||!r?_t(l,a,!1):a()}}};ensure(e,n){var r=g,i=En();if(n&&!this.#t.has(e)&&!this.#n.has(e))if(i){var s=document.createDocumentFragment(),l=Ut();s.append(l),this.#n.set(e,{effect:I(()=>n(l)),fragment:s})}else this.#t.set(e,I(()=>n(this.anchor)));if(this.#e.set(r,e),i){for(const[a,f]of this.#t)a===e?r.skipped_effects.delete(f):r.skipped_effects.add(f);for(const[a,f]of this.#n)a===e?r.skipped_effects.delete(f.effect):r.skipped_effects.add(f.effect);r.add_callback(this.#f)}else this.#f()}}function Kn(t,e,n=!1){var r=new Hn(t),i=n?gt:0;function s(l,a){r.ensure(l,a)}_e(()=>{var l=!1;e((a,f=!0)=>{l=!0,s(f,a)}),l||s(!1,null)},i)}function Gn(t,e,n){var r=t==null?"":""+t;return r===""?null:r}function Zn(t,e){return t==null?null:String(t)}function Pe(t,e,n,r,i,s){var l=t.__className;if(l!==n||l===void 0){var a=Gn(n);a==null?t.removeAttribute("class"):t.className=a,t.__className=n}return s}function Jn(t,e,n,r){var i=t.__style;if(i!==e){var s=Zn(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const Qn=Symbol("is custom element"),Xn=Symbol("is html");function $n(t,e,n,r){var i=tr(t);i[e]!==(i[e]=n)&&(n==null?t.removeAttribute(e):typeof n!="string"&&er(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function tr(t){return t.__attributes??={[Qn]:t.nodeName.includes("-"),[Xn]:t.namespaceURI===We}}var De=new Map;function er(t){var e=t.getAttribute("is")||t.nodeName,n=De.get(e);if(n)return n;De.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=ze(i);for(var l in r)r[l].set&&n.push(l);i=Yt(i)}return n}function Ie(t,e){z(e,!L(e))}var nr=Re('<div><div class="bg-white rounded-lg shadow-2xl w-96 h-[600px] flex flex-col"><div class="bg-gray-100 p-4 rounded-t-lg flex justify-between items-center border-b"><h3 class="font-semibold text-gray-800"> </h3> <button class="text-gray-600 hover:text-gray-800">✕</button></div> <div class="flex-1 overflow-hidden"><iframe class="w-full h-full border-0" title="Virtual Agent Chat"></iframe></div></div></div>'),rr=Re('<div><button class="rounded-full w-14 h-14 flex items-center justify-center shadow-lg hover:opacity-90 transition"><span class="text-white text-2xl">💬</span></button></div> <!>',1);function je(t,e){console.log("🎨 Widget received individual props:",{embedUrl:e.embedUrl,position:e.position,primaryColor:e.primaryColor,agentName:e.agentName});let n=D(!1);var r=rr(),i=yn(r),s=lt(i);s.__click=[Ie,n];var l=Wt(i,2);{var a=f=>{var o=nr(),u=lt(o),_=lt(u),h=lt(_),c=lt(h),d=Wt(h,2);d.__click=[Ie,n];var x=Wt(_,2),ot=lt(x);he(()=>{Pe(o,1,`fixed bottom-20 ${e.position==="bottom-right"?"right-4":"left-4"} z-50`),Bn(c,e.agentName),$n(ot,"src",e.embedUrl)}),Me(f,o)};Kn(l,f=>{L(n)&&f(a)})}he(()=>{Pe(i,1,`fixed ${e.position==="bottom-right"?"bottom-4 right-4":"bottom-4 left-4"} z-50`),Jn(s,`background-color: ${e.primaryColor??""}`)}),Me(t,r)}Vn(["click"]);class ir{widget=null;config=null;configStore=null;init(e){console.log("🔧 VirtualAgent.init called with config:",e),this.config={position:"bottom-right",primaryColor:"#007bff",agentName:"Virtual Assistant",...e},console.log("🔧 Merged config:",this.config);const n=document.createElement("div");n.id="virtual-agent-widget",document.body.appendChild(n),console.log("🔧 Container created, initializing Widget component...");try{console.log("🔧 Props:",this.config),this.widget=Fe(je,{target:n,props:this.config}),this.configStore=this.widget,console.log("✅ Widget initialized successfully")}catch(r){throw console.error("❌ Widget initialization failed:",r),console.error("❌ Error stack:",r.stack),r}}open(){console.log("Opening widget...")}close(){console.log("Closing widget...")}toggle(){console.log("Toggling widget...")}updateConfig(e){if(console.log("Updating config:",e),!this.config||!this.widget){console.error("Widget not initialized");return}this.config={...this.config,...e};const n=document.getElementById("virtual-agent-widget");n&&(this.widget.unmount?.(),n.innerHTML="",this.widget=Fe(je,{target:n,props:this.config}),console.log("✅ Config updated:",this.config))}destroy(){this.widget&&(this.widget.unmount?.(),this.widget=null)}}const Le=new ir;return window.VirtualAgent=Le,Le})();
