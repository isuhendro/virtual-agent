var VirtualAgent=(function(){"use strict";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add("5");const Ge=1,Ze=4,Je=8,Qe=16,Xe=1,$e=2,b=Symbol(),tn="http://www.w3.org/1999/xhtml",Gt=!1;var Zt=Array.isArray,en=Array.prototype.indexOf,nn=Array.from,Mt=Object.defineProperty,it=Object.getOwnPropertyDescriptor,rn=Object.getOwnPropertyDescriptors,sn=Object.prototype,ln=Array.prototype,Jt=Object.getPrototypeOf,Qt=Object.isExtensible;function an(t){for(var e=0;e<t.length;e++)t[e]()}function Xt(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const y=2,$t=4,It=8,J=16,U=32,Q=64,Dt=128,P=256,wt=512,E=1024,S=2048,W=4096,z=8192,X=16384,Ft=32768,mt=65536,te=1<<17,fn=1<<18,st=1<<19,on=1<<20,Lt=1<<21,jt=1<<22,$=1<<23,bt=Symbol("$state"),un=Symbol("legacy props"),lt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function cn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function hn(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function dn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function _n(t){throw new Error("https://svelte.dev/e/effect_orphan")}function vn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function pn(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function gn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function wn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function mn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function bn(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function yn(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ee(t){return t===this.v}function En(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function xn(t){return!En(t,this.v)}let kn=!1,R=null;function at(t){R=t}function ne(t,e=!1,n){R={p:R,c:null,e:null,s:t,x:null,l:null}}function re(t){var e=R,n=e.e;if(n!==null){e.e=null;for(var r of n)me(r)}return R=e.p,{}}function ie(){return!0}let ft=[];function An(){var t=ft;ft=[],an(t)}function yt(t){if(ft.length===0){var e=ft;queueMicrotask(()=>{e===ft&&An()})}ft.push(t)}const Tn=new WeakMap;function se(t){var e=p;if(e===null)return _.f|=$,t;if((e.f&Ft)===0){if((e.f&Dt)===0)throw!e.parent&&t instanceof Error&&le(t),t;e.b.error(t)}else ot(t,e)}function ot(t,e){for(;e!==null;){if((e.f&Dt)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&le(t),t}function le(t){const e=Tn.get(t);e&&(Mt(t,"message",{value:e.message}),Mt(t,"stack",{value:e.stack}))}const Et=new Set;let m=null,D=null,Vt=new Set,Y=[],Ut=null,qt=!1;class L{current=new Map;#e=new Map;#t=new Set;#n=0;#i=null;#a=[];#l=[];#s=[];#r=[];#f=[];skipped_effects=new Set;process(e){Y=[],this.apply();for(const s of e)this.#o(s);if(this.#n===0){var n=D;this.#c();var r=this.#a,i=this.#l;this.#a=[],this.#l=[],this.#s=[],m=null,D=n,ae(r),ae(i),this.#i?.resolve()}else this.#u(this.#a),this.#u(this.#l),this.#u(this.#s);D=null}#o(e){e.f^=E;for(var n=e.first;n!==null;){var r=n.f,i=(r&(U|Q))!==0,s=i&&(r&E)!==0,l=s||(r&z)!==0||this.skipped_effects.has(n);if(!l&&n.fn!==null){i?n.f^=E:(r&$t)!==0?this.#l.push(n):Nt(n)&&((n.f&J)!==0&&this.#s.push(n),Ct(n));var f=n.first;if(f!==null){n=f;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}}#u(e){for(const n of e)((n.f&S)!==0?this.#r:this.#f).push(n),k(n,E);e.length=0}capture(e,n){this.#e.has(e)||this.#e.set(e,n),this.current.set(e,e.v),D?.set(e,e.v)}activate(){m=this}deactivate(){m=null,D=null}flush(){if(Y.length>0){if(this.activate(),Sn(),m!==null&&m!==this)return}else this.#n===0&&this.#c();this.deactivate();for(const e of Vt)if(Vt.delete(e),e(),m!==null)break}#c(){for(const e of this.#t)e();if(this.#t.clear(),Et.size>1){this.#e.clear();let e=!0;for(const n of Et){if(n===this){e=!1;continue}const r=[];for(const[s,l]of this.current){if(n.current.has(s))if(e&&l!==n.current.get(s))n.current.set(s,l);else continue;r.push(s)}if(r.length===0)continue;const i=[...n.current.keys()].filter(s=>!this.current.has(s));if(i.length>0){for(const s of r)fe(s,i);if(Y.length>0){m=n,n.apply();for(const s of Y)n.#o(s);Y=[],n.deactivate()}}}m=null}Et.delete(this)}increment(){this.#n+=1}decrement(){this.#n-=1;for(const e of this.#r)k(e,S),et(e);for(const e of this.#f)k(e,W),et(e);this.flush()}add_callback(e){this.#t.add(e)}settled(){return(this.#i??=Xt()).promise}static ensure(){if(m===null){const e=m=new L;Et.add(m),L.enqueue(()=>{m===e&&e.flush()})}return m}static enqueue(e){yt(e)}apply(){}}function Sn(){var t=ct;qt=!0;try{var e=0;for(Ne(!0);Y.length>0;){var n=L.ensure();if(e++>1e3){var r,i;Nn()}n.process(Y),K.clear()}}finally{qt=!1,Ne(t),Ut=null}}function Nn(){try{vn()}catch(t){ot(t,Ut)}}let tt=null;function ae(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(X|z))===0&&Nt(r)&&(tt=[],Ct(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ke(r):r.fn=null),tt?.length>0)){K.clear();for(const i of tt)Ct(i);tt=[]}}tt=null}}function fe(t,e){if(t.reactions!==null)for(const n of t.reactions){const r=n.f;(r&y)!==0?fe(n,e):(r&(jt|J))!==0&&oe(n,e)&&(k(n,S),et(n))}}function oe(t,e){if(t.deps!==null){for(const n of t.deps)if(e.includes(n)||(n.f&y)!==0&&oe(n,e))return!0}return!1}function et(t){for(var e=Ut=t;e.parent!==null;){e=e.parent;var n=e.f;if(qt&&e===p&&(n&J)!==0)return;if((n&(Q|U))!==0){if((n&E)===0)return;e.f^=E}}Y.push(e)}function On(t){let e=0,n=xt(0),r;return()=>{Hn()&&(C(n),Gn(()=>(e===0&&(r=Fe(()=>t(()=>_t(n)))),e+=1,()=>{yt(()=>{e-=1,e===0&&(r?.(),r=void 0,_t(n))})})))}}var Cn=mt|st|Dt;function Pn(t,e,n){new Rn(t,e,n)}class Rn{parent;#e=!1;#t;#n=null;#i;#a;#l;#s=null;#r=null;#f=null;#o=null;#u=0;#c=0;#d=!1;#h=null;#g=()=>{this.#h&&kt(this.#h,this.#u)};#w=On(()=>(this.#h=xt(this.#u),()=>{this.#h=null}));constructor(e,n,r){this.#t=e,this.#i=n,this.#a=r,this.parent=p.b,this.#e=!!this.#i.pending,this.#l=ye(()=>{p.b=this;{try{this.#s=q(()=>r(this.#t))}catch(i){this.error(i)}this.#c>0?this.#v():this.#e=!1}},Cn)}#m(){try{this.#s=q(()=>this.#a(this.#t))}catch(e){this.error(e)}this.#e=!1}#b(){const e=this.#i.pending;e&&(this.#r=q(()=>e(this.#t)),L.enqueue(()=>{this.#s=this.#_(()=>(L.ensure(),q(()=>this.#a(this.#t)))),this.#c>0?this.#v():(vt(this.#r,()=>{this.#r=null}),this.#e=!1)}))}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#i.pending}#_(e){var n=p,r=_,i=R;V(this.#l),A(this.#l),at(this.#l.ctx);try{return e()}catch(s){return se(s),null}finally{V(n),A(r),at(i)}}#v(){const e=this.#i.pending;this.#s!==null&&(this.#o=document.createDocumentFragment(),Se(this.#s,this.#o)),this.#r===null&&(this.#r=q(()=>e(this.#t)))}#p(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#p(e);return}this.#c+=e,this.#c===0&&(this.#e=!1,this.#r&&vt(this.#r,()=>{this.#r=null}),this.#o&&(this.#t.before(this.#o),this.#o=null),yt(()=>{L.ensure().flush()}))}update_pending_count(e){this.#p(e),this.#u+=e,Vt.add(this.#g)}get_effect_pending(){return this.#w(),C(this.#h)}error(e){var n=this.#i.onerror;let r=this.#i.failed;if(this.#d||!n&&!r)throw e;this.#s&&(M(this.#s),this.#s=null),this.#r&&(M(this.#r),this.#r=null),this.#f&&(M(this.#f),this.#f=null);var i=!1,s=!1;const l=()=>{if(i){yn();return}i=!0,s&&bn(),L.ensure(),this.#u=0,this.#f!==null&&vt(this.#f,()=>{this.#f=null}),this.#e=this.has_pending_snippet(),this.#s=this.#_(()=>(this.#d=!1,q(()=>this.#a(this.#t)))),this.#c>0?this.#v():this.#e=!1};var f=_;try{A(null),s=!0,n?.(e,l),s=!1}catch(a){ot(a,this.#l&&this.#l.parent)}finally{A(f)}r&&yt(()=>{this.#f=this.#_(()=>{this.#d=!0;try{return q(()=>{r(this.#t,()=>e,()=>l)})}catch(a){return ot(a,this.#l.parent),null}finally{this.#d=!1}})})}}function Mn(t,e,n){const r=Ht;if(e.length===0){n(t.map(r));return}var i=m,s=p,l=In();Promise.all(e.map(f=>Dn(f))).then(f=>{l();try{n([...t.map(r),...f])}catch(a){(s.f&X)===0&&ot(a,s)}i?.deactivate(),Bt()}).catch(f=>{ot(f,s)})}function In(){var t=p,e=_,n=R,r=m;return function(){V(t),A(e),at(n),r?.activate()}}function Bt(){V(null),A(null),at(null)}function Ht(t){var e=y|S,n=_!==null&&(_.f&y)!==0?_:null;return p===null||n!==null&&(n.f&P)!==0?e|=P:p.f|=st,{ctx:R,deps:null,effects:null,equals:ee,f:e,fn:t,reactions:null,rv:0,v:b,wv:0,parent:n??p,ac:null}}function Dn(t,e){let n=p;n===null&&cn();var r=n.b,i=void 0,s=xt(b),l=!_,f=new Map;return Kn(()=>{var a=Xt();i=a.promise;try{Promise.resolve(t()).then(a.resolve,a.reject).then(Bt)}catch(d){a.reject(d),Bt()}var o=m,h=r.is_pending();l&&(r.update_pending_count(1),h||(o.increment(),f.get(o)?.reject(lt),f.delete(o),f.set(o,a)));const c=(d,u=void 0)=>{if(h||o.activate(),u)u!==lt&&(s.f|=$,kt(s,u));else{(s.f&$)!==0&&(s.f^=$),kt(s,d);for(const[v,w]of f){if(f.delete(v),v===o)break;w.reject(lt)}}l&&(r.update_pending_count(-1),h||o.decrement())};a.promise.then(c,d=>c(null,d||"unknown"))}),Wn(()=>{for(const a of f.values())a.reject(lt)}),new Promise(a=>{function o(h){function c(){h===i?a(s):o(i)}h.then(c,c)}o(i)})}function Fn(t){const e=Ht(t);return e.equals=xn,e}function ue(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)M(e[n])}}function Ln(t){for(var e=t.parent;e!==null;){if((e.f&y)===0)return e;e=e.parent}return null}function Wt(t){var e,n=p;V(Ln(t));try{ue(t),e=Ie(t)}finally{V(n)}return e}function ce(t){var e=Wt(t);if(t.equals(e)||(t.v=e,t.wv=Re()),!nt)if(D!==null)D.set(t,t.v);else{var n=(Z||(t.f&P)!==0)&&t.deps!==null?W:E;k(t,n)}}const K=new Map;function xt(t,e){var n={f:0,v:t,reactions:null,equals:ee,rv:0,wv:0};return n}function j(t,e){const n=xt(t);return $n(n),n}function N(t,e,n=!1){_!==null&&(!F||(_.f&te)!==0)&&ie()&&(_.f&(y|J|jt|te))!==0&&!B?.includes(t)&&mn();let r=n?ut(e):e;return kt(t,r)}function kt(t,e){if(!t.equals(e)){var n=t.v;nt?K.set(t,e):K.set(t,n),t.v=e;var r=L.ensure();r.capture(t,n),(t.f&y)!==0&&((t.f&S)!==0&&Wt(t),k(t,(t.f&P)===0?E:W)),t.wv=Re(),he(t,S),p!==null&&(p.f&E)!==0&&(p.f&(U|Q))===0&&(I===null?tr([t]):I.push(t))}return e}function _t(t){N(t,t.v+1)}function he(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],l=s.f,f=(l&S)===0;f&&k(s,e),(l&y)!==0?he(s,W):f&&((l&J)!==0&&tt!==null&&tt.push(s),et(s))}}function ut(t){if(typeof t!="object"||t===null||bt in t)return t;const e=Jt(t);if(e!==sn&&e!==ln)return t;var n=new Map,r=Zt(t),i=j(0),s=rt,l=f=>{if(rt===s)return f();var a=_,o=rt;A(null),Pe(s);var h=f();return A(a),Pe(o),h};return r&&n.set("length",j(t.length)),new Proxy(t,{defineProperty(f,a,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&gn();var h=n.get(a);return h===void 0?h=l(()=>{var c=j(o.value);return n.set(a,c),c}):N(h,o.value,!0),!0},deleteProperty(f,a){var o=n.get(a);if(o===void 0){if(a in f){const h=l(()=>j(b));n.set(a,h),_t(i)}}else N(o,b),_t(i);return!0},get(f,a,o){if(a===bt)return t;var h=n.get(a),c=a in f;if(h===void 0&&(!c||it(f,a)?.writable)&&(h=l(()=>{var u=ut(c?f[a]:b),v=j(u);return v}),n.set(a,h)),h!==void 0){var d=C(h);return d===b?void 0:d}return Reflect.get(f,a,o)},getOwnPropertyDescriptor(f,a){var o=Reflect.getOwnPropertyDescriptor(f,a);if(o&&"value"in o){var h=n.get(a);h&&(o.value=C(h))}else if(o===void 0){var c=n.get(a),d=c?.v;if(c!==void 0&&d!==b)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return o},has(f,a){if(a===bt)return!0;var o=n.get(a),h=o!==void 0&&o.v!==b||Reflect.has(f,a);if(o!==void 0||p!==null&&(!h||it(f,a)?.writable)){o===void 0&&(o=l(()=>{var d=h?ut(f[a]):b,u=j(d);return u}),n.set(a,o));var c=C(o);if(c===b)return!1}return h},set(f,a,o,h){var c=n.get(a),d=a in f;if(r&&a==="length")for(var u=o;u<c.v;u+=1){var v=n.get(u+"");v!==void 0?N(v,b):u in f&&(v=l(()=>j(b)),n.set(u+"",v))}if(c===void 0)(!d||it(f,a)?.writable)&&(c=l(()=>j(void 0)),N(c,ut(o)),n.set(a,c));else{d=c.v!==b;var w=l(()=>ut(o));N(c,w)}var T=Reflect.getOwnPropertyDescriptor(f,a);if(T?.set&&T.set.call(h,o),!d){if(r&&typeof a=="string"){var H=n.get("length"),g=Number(a);Number.isInteger(g)&&g>=H.v&&N(H,g+1)}_t(i)}return!0},ownKeys(f){C(i);var a=Reflect.ownKeys(f).filter(c=>{var d=n.get(c);return d===void 0||d.v!==b});for(var[o,h]of n)h.v!==b&&!(o in f)&&a.push(o);return a},setPrototypeOf(){wn()}})}var de,_e,ve,pe;function jn(){if(de===void 0){de=window,_e=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;ve=it(e,"firstChild").get,pe=it(e,"nextSibling").get,Qt(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Qt(n)&&(n.__t=void 0)}}function zt(t=""){return document.createTextNode(t)}function At(t){return ve.call(t)}function Tt(t){return pe.call(t)}function St(t,e){return At(t)}function Vn(t,e=!1){{var n=At(t);return n instanceof Comment&&n.data===""?Tt(n):n}}function ge(t,e=1,n=!1){let r=t;for(;e--;)r=Tt(r);return r}function Un(){return!1}function we(t){var e=_,n=p;A(null),V(null);try{return t()}finally{A(e),V(n)}}function qn(t){p===null&&_===null&&_n(),_!==null&&(_.f&P)!==0&&p===null&&dn(),nt&&hn()}function Bn(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function G(t,e,n,r=!0){var i=p;i!==null&&(i.f&z)!==0&&(t|=z);var s={ctx:R,deps:null,nodes_start:null,nodes_end:null,f:t|S,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ct(s),s.f|=Ft}catch(a){throw M(s),a}else e!==null&&et(s);if(r){var l=s;if(n&&l.deps===null&&l.teardown===null&&l.nodes_start===null&&l.first===l.last&&(l.f&st)===0&&(l=l.first),l!==null&&(l.parent=i,i!==null&&Bn(l,i),_!==null&&(_.f&y)!==0&&(t&Q)===0)){var f=_;(f.effects??=[]).push(l)}}return s}function Hn(){return _!==null&&!F}function Wn(t){const e=G(It,null,!1);return k(e,E),e.teardown=t,e}function zn(t){qn();var e=p.f,n=!_&&(e&U)!==0&&(e&Ft)===0;if(n){var r=R;(r.e??=[]).push(t)}else return me(t)}function me(t){return G($t|on,t,!1)}function Yn(t){L.ensure();const e=G(Q|st,t,!0);return(n={})=>new Promise(r=>{n.outro?vt(e,()=>{M(e),r(void 0)}):(M(e),r(void 0))})}function Kn(t){return G(jt|st,t,!0)}function Gn(t,e=0){return G(It|e,t,!0)}function be(t,e=[],n=[]){Mn(e,n,r=>{G(It,()=>t(...r.map(C)),!0)})}function ye(t,e=0){var n=G(J|e,t,!0);return n}function q(t,e=!0){return G(U|st,t,!0,e)}function Ee(t){var e=t.teardown;if(e!==null){const n=nt,r=_;Oe(!0),A(null);try{e.call(null)}finally{Oe(n),A(r)}}}function xe(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&we(()=>{i.abort(lt)});var r=n.next;(n.f&Q)!==0?n.parent=null:M(n,e),n=r}}function Zn(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&U)===0&&M(e),e=n}}function M(t,e=!0){var n=!1;(e||(t.f&fn)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Jn(t.nodes_start,t.nodes_end),n=!0),xe(t,e&&!n),Ot(t,0),k(t,X);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Ee(t);var i=t.parent;i!==null&&i.first!==null&&ke(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Jn(t,e){for(;t!==null;){var n=t===e?null:Tt(t);t.remove(),t=n}}function ke(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function vt(t,e,n=!0){var r=[];Ae(t,r,!0),Qn(r,()=>{n&&M(t),e&&e()})}function Qn(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function Ae(t,e,n){if((t.f&z)===0){if(t.f^=z,t.transitions!==null)for(const l of t.transitions)(l.is_global||n)&&e.push(l);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&mt)!==0||(r.f&U)!==0;Ae(r,e,s?n:!1),r=i}}}function Xn(t){Te(t,!0)}function Te(t,e){if((t.f&z)!==0){t.f^=z,(t.f&E)===0&&(k(t,S),et(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&mt)!==0||(n.f&U)!==0;Te(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function Se(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:Tt(n);e.append(n),n=i}}let ct=!1;function Ne(t){ct=t}let nt=!1;function Oe(t){nt=t}let _=null,F=!1;function A(t){_=t}let p=null;function V(t){p=t}let B=null;function $n(t){_!==null&&(B===null?B=[t]:B.push(t))}let x=null,O=0,I=null;function tr(t){I=t}let Ce=1,pt=0,rt=pt;function Pe(t){rt=t}let Z=!1;function Re(){return++Ce}function Nt(t){var e=t.f;if((e&S)!==0)return!0;if((e&W)!==0){var n=t.deps,r=(e&P)!==0;if(n!==null){var i,s,l=(e&wt)!==0,f=r&&p!==null&&!Z,a=n.length;if((l||f)&&(p===null||(p.f&X)===0)){var o=t,h=o.parent;for(i=0;i<a;i++)s=n[i],(l||!s?.reactions?.includes(o))&&(s.reactions??=[]).push(o);l&&(o.f^=wt),f&&h!==null&&(h.f&P)===0&&(o.f^=P)}for(i=0;i<a;i++)if(s=n[i],Nt(s)&&ce(s),s.wv>t.wv)return!0}(!r||p!==null&&!Z)&&k(t,E)}return!1}function Me(t,e,n=!0){var r=t.reactions;if(r!==null&&!B?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&y)!==0?Me(s,e,!1):e===s&&(n?k(s,S):(s.f&E)!==0&&k(s,W),et(s))}}function Ie(t){var e=x,n=O,r=I,i=_,s=Z,l=B,f=R,a=F,o=rt,h=t.f;x=null,O=0,I=null,Z=(h&P)!==0&&(F||!ct||_===null),_=(h&(U|Q))===0?t:null,B=null,at(t.ctx),F=!1,rt=++pt,t.ac!==null&&(we(()=>{t.ac.abort(lt)}),t.ac=null);try{t.f|=Lt;var c=t.fn,d=c(),u=t.deps;if(x!==null){var v;if(Ot(t,O),u!==null&&O>0)for(u.length=O+x.length,v=0;v<x.length;v++)u[O+v]=x[v];else t.deps=u=x;if(!Z||(h&y)!==0&&t.reactions!==null)for(v=O;v<u.length;v++)(u[v].reactions??=[]).push(t)}else u!==null&&O<u.length&&(Ot(t,O),u.length=O);if(ie()&&I!==null&&!F&&u!==null&&(t.f&(y|W|S))===0)for(v=0;v<I.length;v++)Me(I[v],t);return i!==null&&i!==t&&(pt++,I!==null&&(r===null?r=I:r.push(...I))),(t.f&$)!==0&&(t.f^=$),d}catch(w){return se(w)}finally{t.f^=Lt,x=e,O=n,I=r,_=i,Z=s,B=l,at(f),F=a,rt=o}}function er(t,e){let n=e.reactions;if(n!==null){var r=en.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&y)!==0&&(x===null||!x.includes(e))&&(k(e,W),(e.f&(P|wt))===0&&(e.f^=wt),ue(e),Ot(e,0))}function Ot(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)er(t,n[r])}function Ct(t){var e=t.f;if((e&X)===0){k(t,E);var n=p,r=ct;p=t,ct=!0;try{(e&J)!==0?Zn(t):xe(t),Ee(t);var i=Ie(t);t.teardown=typeof i=="function"?i:null,t.wv=Ce;var s;Gt&&kn&&(t.f&S)!==0&&t.deps}finally{ct=r,p=n}}}function C(t){var e=t.f,n=(e&y)!==0;if(_!==null&&!F){var r=p!==null&&(p.f&X)!==0;if(!r&&!B?.includes(t)){var i=_.deps;if((_.f&Lt)!==0)t.rv<pt&&(t.rv=pt,x===null&&i!==null&&i[O]===t?O++:x===null?x=[t]:(!Z||!x.includes(t))&&x.push(t));else{(_.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[_]:s.includes(_)||s.push(_)}}}else if(n&&t.deps===null&&t.effects===null){var l=t,f=l.parent;f!==null&&(f.f&P)===0&&(l.f^=P)}if(nt){if(K.has(t))return K.get(t);if(n){l=t;var a=l.v;return((l.f&E)===0&&l.reactions!==null||De(l))&&(a=Wt(l)),K.set(l,a),a}}else if(n){if(l=t,D?.has(l))return D.get(l);Nt(l)&&ce(l)}if(D?.has(t))return D.get(t);if((t.f&$)!==0)throw t.v;return t.v}function De(t){if(t.v===b)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(K.has(e)||(e.f&y)!==0&&De(e))return!0;return!1}function Fe(t){var e=F;try{return F=!0,t()}finally{F=e}}const nr=-7169;function k(t,e){t.f=t.f&nr|e}const Le=new Set,Yt=new Set;function rr(t){for(var e=0;e<t.length;e++)Le.add(t[e]);for(var n of Yt)n(t)}let je=null;function Pt(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;je=t;var l=0,f=je===t&&t.__root;if(f){var a=i.indexOf(f);if(a!==-1&&(e===document||e===window)){t.__root=e;return}var o=i.indexOf(e);if(o===-1)return;a<=o&&(l=a)}if(s=i[l]||t.target,s!==e){Mt(t,"currentTarget",{configurable:!0,get(){return s||n}});var h=_,c=p;A(null),V(null);try{for(var d,u=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var w=s["__"+r];if(w!=null&&(!s.disabled||t.target===s))if(Zt(w)){var[T,...H]=w;T.apply(s,[t,...H])}else w.call(s,t)}catch(g){d?u.push(g):d=g}if(t.cancelBubble||v===e||v===null)break;s=v}if(d){for(let g of u)queueMicrotask(()=>{throw g});throw d}}finally{t.__root=e,delete t.currentTarget,A(h),V(c)}}}function ir(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Ve(t,e){var n=p;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Ue(t,e){var n=(e&Xe)!==0,r=(e&$e)!==0,i,s=!t.startsWith("<!>");return()=>{i===void 0&&(i=ir(s?t:"<!>"+t),n||(i=At(i)));var l=r||_e?document.importNode(i,!0):i.cloneNode(!0);if(n){var f=At(l),a=l.lastChild;Ve(f,a)}else Ve(l,l);return l}}function qe(t,e){t!==null&&t.before(e)}const sr=["touchstart","touchmove"];function lr(t){return sr.includes(t)}function Be(t,e){return ar(t,e)}const ht=new Map;function ar(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:l=!0}){jn();var f=new Set,a=c=>{for(var d=0;d<c.length;d++){var u=c[d];if(!f.has(u)){f.add(u);var v=lr(u);e.addEventListener(u,Pt,{passive:v});var w=ht.get(u);w===void 0?(document.addEventListener(u,Pt,{passive:v}),ht.set(u,1)):ht.set(u,w+1)}}};a(nn(Le)),Yt.add(a);var o=void 0,h=Yn(()=>{var c=n??e.appendChild(zt());return Pn(c,{pending:()=>{}},d=>{if(s){ne({});var u=R;u.c=s}i&&(r.$$events=i),o=t(d,r)||{},s&&re()}),()=>{for(var d of f){e.removeEventListener(d,Pt);var u=ht.get(d);--u===0?(document.removeEventListener(d,Pt),ht.delete(d)):ht.set(d,u)}Yt.delete(a),c!==n&&c.parentNode?.removeChild(c)}});return fr.set(o,h),o}let fr=new WeakMap;class or{anchor;#e=new Map;#t=new Map;#n=new Map;#i=!0;constructor(e,n=!0){this.anchor=e,this.#i=n}#a=()=>{var e=m;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#t.get(n);if(r)Xn(r);else{var i=this.#n.get(n);i&&(this.#t.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,l]of this.#e){if(this.#e.delete(s),s===e)break;const f=this.#n.get(l);f&&(M(f.effect),this.#n.delete(l))}for(const[s,l]of this.#t){if(s===n)continue;const f=()=>{if(Array.from(this.#e.values()).includes(s)){var o=document.createDocumentFragment();Se(l,o),o.append(zt()),this.#n.set(s,{effect:l,fragment:o})}else M(l);this.#t.delete(s)};this.#i||!r?vt(l,f,!1):f()}}};ensure(e,n){var r=m,i=Un();if(n&&!this.#t.has(e)&&!this.#n.has(e))if(i){var s=document.createDocumentFragment(),l=zt();s.append(l),this.#n.set(e,{effect:q(()=>n(l)),fragment:s})}else this.#t.set(e,q(()=>n(this.anchor)));if(this.#e.set(r,e),i){for(const[f,a]of this.#t)f===e?r.skipped_effects.delete(a):r.skipped_effects.add(a);for(const[f,a]of this.#n)f===e?r.skipped_effects.delete(a.effect):r.skipped_effects.add(a.effect);r.add_callback(this.#a)}else this.#a()}}function ur(t,e,n=!1){var r=new or(t),i=n?mt:0;function s(l,f){r.ensure(l,f)}ye(()=>{var l=!1;e((f,a=!0)=>{l=!0,s(a,f)}),l||s(!1,null)},i)}function cr(t,e,n){var r=t==null?"":""+t;return r===""?null:r}function gt(t,e,n,r,i,s){var l=t.__className;if(l!==n||l===void 0){var f=cr(n);f==null?t.removeAttribute("class"):t.className=f,t.__className=n}return s}const hr=Symbol("is custom element"),dr=Symbol("is html");function _r(t,e,n,r){var i=vr(t);i[e]!==(i[e]=n)&&(n==null?t.removeAttribute(e):typeof n!="string"&&pr(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function vr(t){return t.__attributes??={[hr]:t.nodeName.includes("-"),[dr]:t.namespaceURI===tn}}var He=new Map;function pr(t){var e=t.getAttribute("is")||t.nodeName,n=He.get(e);if(n)return n;He.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=rn(i);for(var l in r)r[l].set&&n.push(l);i=Jt(i)}return n}let Rt=!1;function gr(t){var e=Rt;try{return Rt=!1,[t(),Rt]}finally{Rt=e}}function Kt(t,e,n,r){var i=(n&Je)!==0,s=(n&Qe)!==0,l=r,f=!0,a=()=>(f&&(f=!1,l=s?Fe(r):r),l),o;if(i){var h=bt in t||un in t;o=it(t,e)?.set??(h&&e in t?g=>t[e]=g:void 0)}var c,d=!1;i?[c,d]=gr(()=>t[e]):c=t[e],c===void 0&&r!==void 0&&(c=a(),o&&(pn(),o(c)));var u;if(u=()=>{var g=t[e];return g===void 0?a():(f=!0,g)},(n&Ze)===0)return u;if(o){var v=t.$$legacy;return(function(g,dt){return arguments.length>0?((!dt||v||d)&&o(dt?u():g),g):u()})}var w=!1,T=((n&Ge)!==0?Ht:Fn)(()=>(w=!1,u()));i&&C(T);var H=p;return(function(g,dt){if(arguments.length>0){const Ke=dt?C(T):i?ut(g):g;return N(T,Ke),w=!0,l!==void 0&&(l=Ke),g}return nt&&w||(H.f&X)!==0?T.v:C(T)})}function We(t,e){e(!e())}var wr=Ue('<div><div><button>✕</button> <div><iframe class="w-full h-full border-0" title="Virtual Agent Chat"></iframe></div></div></div>'),mr=Ue('<!> <div><button class="flex items-center gap-2 hover:opacity-90 transition cursor-pointer rounded-full shadow-md border border-white/20 py-3 group" style="padding-left: 1rem; padding-right: 2.5rem; background: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(240, 240, 255, 0.3)); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);" aria-label="Open chat"><svg class="w-12 h-12 flex-shrink-0" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid"><g class="ldl-scale" style="transform-origin:50px 50px;transform:scale(0.8)"><g class="ldl-ani"><g class="ldl-layer"><g class="ldl-ani" style="transform-origin:50px 50px;transform:scale(0.97254);animation:pulse 1s linear infinite"><path fill="#024AD8" d="M85.889 26.091v25.576c0 6.863-6.067 12.434-12.986 12.434H38.902c-1.068 2.833-2.531 4.585-4.335 6.619.7.213 1.442-.008 2.212-.008h28.297c1.815 7.556 6.647 13.057 14.203 15.244V70.711h3.066c5.609 0 10.156-4.547 10.156-10.156V33.857c-.001-4.133-2.834-7.504-6.612-7.766z"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform-origin:50px 50px;transform:scale(0.91);animation:pulse 1s linear infinite"><path fill="#024AD8" fill-opacity="0.435" d="M14.892 14.045H72.83a7.392 7.392 0 0 1 7.392 7.392v29.952c0 4.394-3.595 7.989-7.989 7.989H35.397c-1.815 6.611-7.12 11.97-13.731 14.158V59.378h-6.24c-4.36 0-7.927-3.567-7.927-7.927V21.437c.001-4.066 3.327-7.392 7.393-7.392z"></path></g></g></g></g></svg> <span class="text-gray-800 font-medium text-base whitespace-nowrap group-hover:underline">Need help?</span></button></div>',1);function ze(t,e){ne(e,!0);let n=Kt(e,"isOpen",15,!1),r=Kt(e,"fullHeight",3,!1),i=Kt(e,"animation",3,"slide-right"),s=j(!1),l=j(!1);zn(()=>{n()?(N(s,!1),N(l,!0)):C(l)&&(N(s,!0),setTimeout(()=>{N(l,!1),N(s,!1)},300))}),console.log("🎨 Widget received individual props:",{embedUrl:e.embedUrl,position:e.position,primaryColor:e.primaryColor,agentName:e.agentName,isOpen:n(),fullHeight:r(),animation:i()});function f(){if(i()==="none")return"";if(C(s)){if(i()==="slide-left")return"animate-slide-out-left";if(i()==="slide-right")return"animate-slide-out-right";if(i()==="scale")return"animate-scale-out"}else{if(i()==="slide-left")return"animate-slide-in-left";if(i()==="slide-right")return"animate-slide-in-right";if(i()==="scale")return"animate-scale-in"}return"animate-slide-in-right"}var a=mr(),o=Vn(a);{var h=u=>{var v=wr(),w=St(v),T=St(w);T.__click=[We,n];var H=ge(T,2),g=St(H);be(dt=>{gt(v,1,`fixed ${r()?"top-0 bottom-0":"bottom-4"} ${r()?e.position==="bottom-right"?"right-0":"left-0":e.position==="bottom-right"?"right-4":"left-4"} z-[70]`),gt(w,1,`bg-white ${r()?"rounded-none":"rounded-2xl"} shadow-2xl w-[450px] ${r()?"h-full":"h-[700px]"} flex flex-col relative ${dt??""}`),gt(T,1,`${r()?"absolute top-4 right-4":"absolute -top-4 -right-4"} z-10 bg-white hover:bg-gray-900 text-gray-900 hover:text-white text-lg font-semibold leading-none w-10 h-10 flex items-center justify-center rounded-full border-2 border-gray-300 hover:border-white shadow-xl hover:shadow-2xl transition-all duration-200 hover:scale-105 cursor-pointer`),gt(H,1,`w-full h-full overflow-hidden ${r()?"":"rounded-2xl"}`),_r(g,"src",e.embedUrl)},[f]),qe(u,v)};ur(o,u=>{C(l)&&u(h)})}var c=ge(o,2),d=St(c);d.__click=[We,n],be(()=>gt(c,1,`fixed ${e.position==="bottom-right"?"bottom-4 right-4":"bottom-4 left-4"} z-[60]`)),qe(t,a),re()}rr(["click"]);class br{widget=null;config=null;container=null;init(e){console.log("🔧 VirtualAgent.init called with config:",e),this.config={position:"bottom-right",primaryColor:"#007bff",agentName:"Virtual Assistant",animation:"slide-right",fullHeight:!0,...e},console.log("🔧 Merged config:",this.config),this.container=document.createElement("div"),this.container.id="virtual-agent-widget",document.body.appendChild(this.container),console.log("🔧 Container created, initializing Widget component...");try{console.log("🔧 Props:",this.config),this.widget=Be(ze,{target:this.container,props:this.config}),console.log("✅ Widget initialized successfully")}catch(n){throw console.error("❌ Widget initialization failed:",n),console.error("❌ Error stack:",n.stack),n}}open(){console.log("Opening widget..."),this.widget&&this.config&&this.remount({...this.config,isOpen:!0})}close(){console.log("Closing widget..."),this.widget&&this.config&&this.remount({...this.config,isOpen:!1})}toggle(){console.log("Toggling widget..."),this.open()}remount(e){this.container&&(this.widget.unmount?.(),this.container.innerHTML="",this.widget=Be(ze,{target:this.container,props:e}))}updateConfig(e){if(console.log("Updating config:",e),!this.config||!this.widget){console.error("Widget not initialized");return}this.config={...this.config,...e},this.remount(this.config),console.log("✅ Config updated:",this.config)}destroy(){this.widget&&(this.widget.unmount?.(),this.widget=null)}}const Ye=new br;return window.VirtualAgent=Ye,Ye})();
